<h2>User Sign Up Form</h2>
<form #signupForm="ngForm" (ngSubmit)="signup(signupForm)" id="signup-form" passwordConfirm>
  <mat-form-field>
    <mat-label>Email</mat-label>
    <input matInput type="email" name="email"
           ngModel
           #email="ngModel"
           required email minlength="3" maxlength="20"
    >
    <mat-error  *ngIf="email.hasError('required')">Email is required</mat-error >
    <mat-error  *ngIf="email.hasError('email')">This is not proper format</mat-error >
    <mat-error *ngIf="email.hasError('minlength')">At least 3 characters</mat-error >
  </mat-form-field>
  <mat-form-field>
    <mat-label>Password</mat-label>
    <input matInput type="text" name="password"
          ngModel
          #password="ngModel"
          required minlength="8"
          passwordStrength
    >
    <mat-error  *ngIf="password.hasError('required')">Password is required</mat-error>
    <mat-error  *ngIf="password.hasError('minlength')">Password needs at least 8 characters</mat-error>
    <mat-error *ngIf="password.hasError('passwordStrength')">Password wrong format</mat-error>
  </mat-form-field>
  <mat-form-field>
    <mat-label>Confirm Password</mat-label>
    <input matInput type="text" name="confirmPassword"
          ngModel
          #confirmPassword="ngModel"
          required minlength="8"
          [errorStateMatcher]="errorMatcher"

    >
    <mat-error  *ngIf="confirmPassword.hasError('required')">confirmPassword is required</mat-error>
    <mat-error  *ngIf="confirmPassword.hasError('minlength')">min length 8 characters</mat-error>
    <mat-error *ngIf="signupForm.hasError('passwordNotMatched')">
      Passwords do not match!
    </mat-error>
  </mat-form-field>


  <button mat-raised-button color="primary" type="submit" [disabled]="signupForm.invalid">
    Sign Up
  </button>
</form>
